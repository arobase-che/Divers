#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <assert.h>
#include <math.h>
#include <SDL/SDL.h>
#include <SDL/SDL_image.h>



#define to8(x) (Uint8)(x/total)
SDL_Surface *screen = NULL;

char name[100];
Uint32 getPixel(SDL_Surface * surface, int x, int y)
{
  int bpp = surface->format->BytesPerPixel;
  Uint8 *p = (Uint8 *) surface->pixels + y * surface->pitch + x * bpp;

  switch (bpp) {
  case 1:
    return *p;
  case 2:
    return *(Uint16 *) p;
  case 3:
    if (SDL_BYTEORDER == SDL_BIG_ENDIAN)
      return p[0] << 16 | p[1] << 8 | p[2];
    else
      return p[0] | p[1] << 8 | p[2] << 16;
  case 4:
    return *(Uint32 *) p;

  default:
    return 0;
  }
}
void putPixel(SDL_Surface *surface, int x, int y, Uint32 pixel)
{
    int bpp = surface->format->BytesPerPixel;
    // Here p is the address to the pixel we want to set
    Uint8 *p = (Uint8 *)surface->pixels + y * surface->pitch + x * bpp;
 
    switch(bpp) {
    case 1:
        *p = pixel;
        break;
 
    case 2:
        *(Uint16 *)p = pixel;
        break;
 
    case 3:
        if(SDL_BYTEORDER == SDL_BIG_ENDIAN) {
            p[0] = (pixel >> 16) & 0xff;
            p[1] = (pixel >> 8) & 0xff;
            p[2] = pixel & 0xff;
        } else {
            p[0] = pixel & 0xff;
            p[1] = (pixel >> 8) & 0xff;
            p[2] = (pixel >> 16) & 0xff;
        }
        break;
 
    case 4:
        *(Uint32 *)p = pixel;
        break;
    }
}
void ERNO(int error, char *t) {
  switch (error) {
  case 1:
    printf("Init error");
    break;
  case 2:
    printf("Alloc error");
  }
  if (t)
    putchar(':'), puts(t);
  puts("");
  exit(error);
}

///////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////
SDL_Surface *nyan;
void showNC(void){
  char tab[50][50] = {
   {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,0,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,1,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,3,4,4,4,4,4,4,5,4,4,5,4,4,4,4,4,3,3,1,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,5,4,4,4,4,4,4,4,1,1,4,4,4,4,4,3,1,0,1,1,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,4,4,4,4,4,4,4,1,2,2,1,4,5,4,4,3,1,1,2,2,1},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,4,4,4,4,4,4,4,1,2,2,2,1,4,4,4,3,1,2,2,2,1},
   {0,0,0,0,1,1,0,0,0,1,3,4,4,4,4,4,4,5,4,4,1,2,2,2,2,1,1,1,1,2,2,2,2,1},
   {0,0,0,1,2,2,1,0,0,1,3,4,4,4,4,4,4,4,4,4,1,2,2,2,2,2,2,2,2,2,2,2,2,1},
   {0,0,0,1,2,2,1,1,1,1,3,4,4,4,5,4,4,4,4,1,2,2,2,2,2,2,2,2,2,2,2,2,2,1},
   {0,0,0,0,1,2,2,2,2,1,3,4,4,4,4,4,4,4,5,1,2,2,2,0,1,2,2,2,2,2,0,1,2,2,1},
   {0,0,0,0,0,1,1,2,2,1,3,4,5,4,4,4,4,4,4,1,2,2,2,1,1,2,2,2,1,2,1,1,2,2,1},
   {0,0,0,0,0,0,0,1,1,1,3,4,4,4,4,4,4,4,4,1,2,5,5,2,2,2,2,2,2,2,2,2,5,5,1},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,4,4,4,5,4,4,1,2,5,5,2,1,2,2,1,2,2,1,2,5,5,1},
   {0,0,0,0,0,0,0,0,0,1,3,3,4,5,4,4,4,4,4,4,1,2,2,1,1,1,1,1,1,1,2,2,1,1,0},
   {0,0,0,0,0,0,0,0,1,1,3,3,3,4,4,4,4,4,4,4,4,1,2,2,2,2,2,2,2,2,2,2,1,0},
   {0,0,0,0,0,0,0,1,2,1,1,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,1,1,0,0},
   {0,0,0,0,0,0,1,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,0,0,0,0},
   {0,0,0,0,0,0,1,2,2,1,0,1,2,2,1,0,0,0,0,0,0,1,2,2,1,0,1,2,2,1,0,0,0,0},
   {0,0,0,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,0,0,0,1,1,1,0,0,0,1,1,0,0,0,0,0}};
  for(int i = 0 ; i < nyan->w ; ++i)
    for(int j = 0 ; j < nyan->h ; ++j)
    {
      int tablette[] = {SDL_MapRGB(nyan->format, 255,255,255),
                        SDL_MapRGB(nyan->format,   0,  0,  0),
                        SDL_MapRGB(nyan->format, 153,153,153),
                        SDL_MapRGB(nyan->format, 255,204,153),
                        SDL_MapRGB(nyan->format, 255,153,255),
                        SDL_MapRGB(nyan->format, 255,51,153),
                        SDL_MapRGB(nyan->format, 255,153,153)};
      putPixel(nyan, i, j, tablette[tab[j][i]] );
    }
}
void showNC2(void){
  char tab[50][50] = {
   {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,0,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,1,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,3,4,4,4,4,4,4,5,4,4,5,4,4,4,4,4,3,3,1,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,1,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,4,4,4,4,4,4,4,4,1,1,4,4,5,4,4,3,1,0,1,1,0},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,4,4,4,4,4,4,4,1,2,2,1,4,4,4,4,3,1,1,2,2,1},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,4,4,4,4,5,4,4,1,2,2,2,1,4,4,4,3,1,2,2,2,1},
   {0,0,0,1,1,1,1,0,0,1,3,4,4,4,4,4,4,4,4,4,1,2,2,2,2,1,1,1,1,2,2,2,2,1},
   {0,0,1,2,2,2,1,1,1,1,3,4,4,4,5,4,4,4,4,4,1,2,2,2,2,2,2,2,2,2,2,2,2,1},
   {0,0,1,1,2,2,2,2,1,1,3,4,4,4,4,4,4,4,5,1,2,2,2,2,2,2,2,2,2,2,2,2,2,1},
   {0,0,0,0,1,1,1,1,2,1,3,4,5,4,4,4,4,4,4,1,2,2,2,0,1,2,2,2,2,2,0,1,2,2,1},
   {0,0,0,0,0,0,0,1,1,1,3,4,4,4,4,4,4,4,4,1,2,2,2,1,1,2,2,2,1,2,1,1,2,2,1},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,4,4,4,5,4,4,1,2,5,5,2,2,2,2,2,2,2,2,2,5,5,1},
   {0,0,0,0,0,0,0,0,0,1,3,3,4,5,4,4,4,4,4,1,2,5,5,2,1,2,2,1,2,2,1,2,5,5,1},
   {0,0,0,0,0,0,0,0,1,1,3,3,3,4,4,4,4,4,4,4,1,2,2,1,1,1,1,1,1,1,2,2,1,1,0},
   {0,0,0,0,0,0,0,1,1,1,1,3,3,3,3,3,3,3,3,3,3,1,2,2,2,2,2,2,2,2,2,1,0,0},
   {0,0,0,0,0,0,1,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0},
   {0,0,0,0,0,0,1,2,2,1,0,1,2,2,1,0,0,0,0,0,0,1,2,2,1,0,1,2,2,1,0,0,0,0},
   {0,0,0,0,0,0,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0}};
  for(int i = 0 ; i < nyan->w ; ++i)
    for(int j = 0 ; j < nyan->h ; ++j)
    {
      int tablette[] = {SDL_MapRGB(nyan->format, 255,255,255),
                        SDL_MapRGB(nyan->format,   0,  0,  0),
                        SDL_MapRGB(nyan->format, 153,153,153),
                        SDL_MapRGB(nyan->format, 255,204,153),
                        SDL_MapRGB(nyan->format, 255,153,255),
                        SDL_MapRGB(nyan->format, 255,51,153),
                        SDL_MapRGB(nyan->format, 255,153,153)};
      putPixel(nyan, i, j, tablette[tab[j][i]] );
    }
}
void showNC3(void){
  char tab[50][50] = {
   {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,0,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,1,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,3,4,4,4,4,4,4,5,4,4,5,4,4,4,4,4,3,3,1,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,1,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,4,4,4,4,4,4,4,4,4,1,1,4,5,4,4,3,1,0,0,1,1},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,4,4,4,4,4,4,4,4,1,2,2,1,4,4,4,3,1,0,1,2,2,1},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,4,4,4,4,5,4,4,4,1,2,2,2,1,4,4,3,1,1,2,2,2,1},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,4,4,4,4,4,4,4,4,1,2,2,2,2,1,1,1,1,2,2,2,2,1,0},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,4,5,4,4,4,4,4,4,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0},
   {0,0,0,0,0,0,0,1,1,1,3,4,4,4,4,4,4,4,5,4,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1},
   {0,0,0,0,0,1,1,2,2,1,3,4,5,4,4,4,4,4,4,4,1,2,2,2,0,1,2,2,2,2,2,0,1,2,2,1},
   {0,0,0,0,1,2,2,2,2,1,3,4,4,4,4,4,4,4,4,4,1,2,2,2,1,1,2,2,2,1,2,1,1,2,2,1},
   {0,0,0,1,2,2,1,1,1,1,3,4,4,4,4,4,5,4,4,4,1,2,5,5,2,2,2,2,2,2,2,2,2,5,5,1},
   {0,0,0,1,2,2,1,0,0,1,3,3,4,5,4,4,4,4,4,4,1,2,5,5,2,1,2,2,1,2,2,1,2,5,5,1},
   {0,0,0,0,1,1,0,0,0,1,3,3,3,4,4,4,4,4,4,4,4,1,2,2,1,1,1,1,1,1,1,2,2,1,1},
   {0,0,0,0,0,0,0,0,0,1,1,3,3,3,3,3,3,3,3,3,3,3,1,2,2,2,2,2,2,2,2,2,1,0,0},
   {0,0,0,0,0,0,0,0,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
   {0,0,0,0,0,0,0,0,1,2,2,1,0,1,2,2,1,0,0,0,0,0,1,2,2,1,0,1,2,2,1,0,0,0},
   {0,0,0,0,0,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1,0,0,1,1,1,0,0,0}};
  for(int i = 0 ; i < nyan->w ; ++i)
    for(int j = 0 ; j < nyan->h ; ++j)
    {
      int tablette[] = {SDL_MapRGB(nyan->format, 255,255,255),
                        SDL_MapRGB(nyan->format,   0,  0,  0),
                        SDL_MapRGB(nyan->format, 153,153,153),
                        SDL_MapRGB(nyan->format, 255,204,153),
                        SDL_MapRGB(nyan->format, 255,153,255),
                        SDL_MapRGB(nyan->format, 255,51,153),
                        SDL_MapRGB(nyan->format, 255,153,153)};
      putPixel(nyan, i, j, tablette[tab[j][i]] );
    }
}
void showNC4(void){
  char tab[50][50] = {
   {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,0,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,1,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,3,4,4,4,4,4,4,5,4,4,5,4,4,4,4,4,3,3,1,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,1,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,4,4,4,4,4,4,4,4,4,1,1,4,5,4,4,3,1,0,0,1,1},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,4,4,4,4,4,4,4,4,1,2,2,1,4,4,4,4,1,0,1,2,2,1},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,4,4,4,4,5,4,4,4,1,2,2,2,1,4,4,4,1,1,2,2,2,1},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,4,4,4,4,4,4,4,4,1,2,2,2,2,1,1,1,1,2,2,2,2,1},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,4,5,4,4,4,4,4,4,1,2,2,2,2,2,2,2,2,2,2,2,2,1},
   {0,0,0,0,0,0,0,1,1,1,3,4,4,4,4,4,4,4,5,4,1,2,2,2,2,2,2,2,2,2,2,2,2,2,1},
   {0,0,0,0,0,1,1,2,2,1,3,4,5,4,4,4,4,4,4,4,1,2,2,2,0,1,2,2,2,2,2,0,1,2,2,1},
   {0,0,0,1,1,2,2,2,2,1,3,4,4,4,4,4,4,4,4,4,1,2,2,2,1,1,2,2,2,1,2,1,1,2,2,1},
   {0,0,0,1,2,2,2,1,1,1,3,4,4,4,4,4,5,4,4,4,1,2,5,5,2,2,2,2,2,2,2,2,2,5,5,1},
   {0,0,0,0,1,1,1,1,0,1,3,3,4,5,4,4,4,4,4,4,1,2,5,5,2,1,2,2,1,2,2,1,2,5,5,1},
   {0,0,0,0,0,0,0,0,0,1,3,3,3,4,4,4,4,4,4,4,4,1,2,2,1,1,1,1,1,1,1,2,2,1,1,0},
   {0,0,0,0,0,0,0,0,0,1,1,3,3,3,3,3,3,3,3,3,3,3,1,2,2,2,2,2,2,2,2,2,1,0,0},
   {0,0,0,0,0,0,0,0,0,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0},
   {0,0,0,0,0,0,0,0,0,1,2,2,1,0,1,2,2,1,0,0,0,0,0,1,2,2,1,0,1,2,2,1,0,0},
   {0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1,0,0,1,1,1,0,0}};
  for(int i = 0 ; i < nyan->w ; ++i)
    for(int j = 0 ; j < nyan->h ; ++j)
    {
      int tablette[] = {SDL_MapRGB(nyan->format, 255,255,255),
                        SDL_MapRGB(nyan->format,   0,  0,  0),
                        SDL_MapRGB(nyan->format, 153,153,153),
                        SDL_MapRGB(nyan->format, 255,204,153),
                        SDL_MapRGB(nyan->format, 255,153,255),
                        SDL_MapRGB(nyan->format, 255,51,153),
                        SDL_MapRGB(nyan->format, 255,153,153)};
      putPixel(nyan, i, j, tablette[tab[j][i]] );
    }
}
void showNC5(void){
  char tab[50][50] = {
   {0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,0,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,1,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,3,4,4,4,4,4,4,5,4,4,5,4,4,4,4,4,3,3,1,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,1,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,4,4,4,4,4,4,4,4,4,1,1,4,5,4,4,3,1,0,0,1,1},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,4,4,4,4,4,4,4,4,1,2,2,1,4,4,4,4,1,0,1,2,2,1},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,4,4,4,4,5,4,4,4,1,2,2,2,1,4,4,4,1,1,2,2,2,1},
   {0,0,0,0,1,1,0,0,0,1,3,4,4,4,4,4,4,4,4,4,4,1,2,2,2,2,1,1,1,1,2,2,2,2,1},
   {0,0,0,1,2,2,1,0,0,1,3,4,4,4,5,4,4,4,4,4,4,1,2,2,2,2,2,2,2,2,2,2,2,2,1},
   {0,0,0,1,2,2,1,1,1,1,3,4,4,4,4,4,4,4,5,4,1,2,2,2,2,2,2,2,2,2,2,2,2,2,1},
   {0,0,0,0,1,2,2,2,2,1,3,4,5,4,4,4,4,4,4,4,1,2,2,2,0,1,2,2,2,2,2,0,1,2,2,1},
   {0,0,0,0,0,1,1,2,2,1,3,4,4,4,4,4,4,4,4,4,1,2,2,2,1,1,2,2,2,1,2,1,1,2,2,1},
   {0,0,0,0,0,0,0,1,1,1,3,4,4,4,4,4,5,4,4,4,1,2,5,5,2,2,2,2,2,2,2,2,2,5,5,1},
   {0,0,0,0,0,0,0,1,1,1,3,3,4,5,4,4,4,4,4,4,1,2,5,5,2,1,2,2,1,2,2,1,2,5,5,1},
   {0,0,0,0,0,0,0,0,0,1,3,3,3,4,4,4,4,4,4,4,4,1,2,2,1,1,1,1,1,1,1,2,2,2,1,0},
   {0,0,0,0,0,0,0,0,0,1,1,3,3,3,3,3,3,3,3,3,3,3,1,2,2,2,2,2,2,2,2,2,2,1,0},
   {0,0,0,0,0,0,0,0,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
   {0,0,0,0,0,0,0,0,1,2,2,1,0,1,2,2,1,0,0,0,0,0,0,1,2,2,1,0,1,2,2,1,0,0},
   {0,0,0,0,0,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0,0,0,0,1,1,1,0,0,1,1,1,0,0},
   {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}};
  for(int i = 0 ; i < nyan->w ; ++i)
    for(int j = 0 ; j < nyan->h ; ++j)
    {
      int tablette[] = {SDL_MapRGB(nyan->format, 255,255,255),
                        SDL_MapRGB(nyan->format,   0,  0,  0),
                        SDL_MapRGB(nyan->format, 153,153,153),
                        SDL_MapRGB(nyan->format, 255,204,153),
                        SDL_MapRGB(nyan->format, 255,153,255),
                        SDL_MapRGB(nyan->format, 255,51,153),
                        SDL_MapRGB(nyan->format, 255,153,153)};
      putPixel(nyan, i, j, tablette[tab[j][i]] );
    }
}
void showNC6(void){
  char tab[50][50] = {
   {0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,0,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,1,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,3,4,4,4,4,4,4,5,4,4,5,4,4,4,4,4,3,3,1,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,1,0,0,0,0},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,4,4,4,4,4,4,4,4,1,1,4,5,4,4,4,3,1,0,1,1},
   {0,0,0,0,0,0,0,0,0,1,3,4,4,4,4,4,4,4,4,4,1,2,2,1,4,4,4,4,3,1,1,2,2,1},
   {0,0,0,1,1,1,1,0,0,1,3,4,4,4,4,4,4,5,4,4,1,2,2,2,1,4,4,4,3,1,2,2,2,1},
   {0,0,0,1,2,2,1,1,0,1,3,4,4,4,4,4,4,4,4,4,1,2,2,2,2,1,1,1,1,2,2,2,2,1},
   {0,0,0,1,1,2,2,1,1,1,3,4,4,4,5,4,4,4,4,4,1,2,2,2,2,2,2,2,2,2,2,2,2,1},
   {0,0,0,0,1,1,2,2,1,1,3,4,4,4,4,4,4,4,5,1,2,2,2,2,2,2,2,2,2,2,2,2,2,1},
   {0,0,0,0,0,1,1,2,2,1,3,4,5,4,4,4,4,4,4,1,2,2,2,0,1,2,2,2,2,2,0,1,2,2,1},
   {0,0,0,0,0,0,1,1,1,1,3,4,4,4,4,4,4,4,4,1,2,2,2,1,1,2,2,2,1,2,1,1,2,2,1},
   {0,0,0,0,0,0,0,0,1,1,3,4,4,4,4,4,5,4,4,1,2,5,5,2,2,2,2,2,2,2,2,2,5,5,1},
   {0,0,0,0,0,0,0,0,0,1,3,3,4,5,4,4,4,4,4,1,2,5,5,2,1,2,2,1,2,2,1,2,5,5,1},
   {0,0,0,0,0,0,0,0,0,1,3,3,3,4,4,4,4,4,4,4,1,2,2,1,1,1,1,1,1,1,2,2,2,1,0},
   {0,0,0,0,0,0,0,0,1,1,1,3,3,3,3,3,3,3,3,3,3,1,2,2,2,2,2,2,2,2,2,2,1,0},
   {0,0,0,0,0,0,0,1,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0},
   {0,0,0,0,0,0,0,1,2,2,1,1,0,1,2,2,1,0,0,0,0,0,1,2,2,1,0,1,2,2,1,0,0},
   {0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,0,0,0,0,0,0,0,1,1,1,0,0,1,1,1,0,0},
   {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}};
  for(int i = 0 ; i < nyan->w ; ++i)
    for(int j = 0 ; j < nyan->h ; ++j)
    {
      int tablette[] = {SDL_MapRGB(nyan->format, 255,255,255),
                        SDL_MapRGB(nyan->format,   0,  0,  0),
                        SDL_MapRGB(nyan->format, 153,153,153),
                        SDL_MapRGB(nyan->format, 255,204,153),
                        SDL_MapRGB(nyan->format, 255,153,255),
                        SDL_MapRGB(nyan->format, 255,51,153),
                        SDL_MapRGB(nyan->format, 255,153,153)};
      putPixel(nyan, i, j, tablette[tab[j][i]] );
    }
}
int main(void)
{
  SDL_Surface *img = NULL, *tmp = NULL, *finale;
  SDL_Event event;
  
  if (SDL_Init(SDL_INIT_VIDEO) < 0)
    ERNO(1, "SDL_Init");
  atexit(SDL_Quit);
  /*
  if (nyan = IMG_Load("nyan.png"))
    puts("nyan.png");
  else
    ERNO(2, name);
*/
  /*
  if (!(screen = SDL_SetVideoMode(((img->w > img->h) ? img->w : img->w * 2), ((img->w > img->h) ? img->h * 2 : img->h), 32, 0)))
    ERNO(1, "VideoMode");
  */
  if( ! (screen = SDL_SetVideoMode(40, 25, 16, 0) ) )
    ERNO(1, "VideoMode");
  nyan =  SDL_CreateRGBSurface(SDL_HWSURFACE,40,25,screen->format->BitsPerPixel,0,0,0,0);
  showNC();
  SDL_BlitSurface(nyan, NULL, screen, NULL);
  
  
  int a = 0;
  
  if( !a )
    showNC();
  else 
    showNC2();
  a = !a;
  while (1) {
    switch( a ) {
      case 0:
        showNC6();
      break;
      case 1:
        showNC5();
      break;
      case 2:
        showNC4();
      break;
      case 3:
        showNC3();
      break;
      case 4:
        showNC2();
      break;
      case 5:
        showNC();
      break;
    }
    a++;
    a %= 5;
    SDL_BlitSurface(nyan, NULL, screen, NULL);
    SDL_Flip(screen);
    
    while(SDL_PollEvent(&event))
      if (event.type == SDL_QUIT || (event.type == SDL_KEYDOWN) && (event.key.keysym.sym == SDLK_ESCAPE))
	      return 0;
    SDL_Delay(70);
  }
  while (1) {
    
    SDL_Flip(screen);
    while (SDL_WaitEvent(&event))
      if (event.type == SDL_QUIT || (event.type == SDL_KEYDOWN) && (event.key.keysym.sym == SDLK_ESCAPE))
	return 0;
  }

  return 0;
}

/*




*/
